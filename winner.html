
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/style.css">
  </head>
  <body>
    <div id="logo">
      <div id="win"></div></div>
    <div id="main-image"></div>
  <script>
    axios.get('https://blkikjvgfd.execute-api.us-west-2.amazonaws.com/ditto/get-data')
      .then(function (response) {
        let d = response.data.Items;
        console.log(d)
        d.map(types => {
            if(types.type == 'currentWinner'){
              const contentNameData = types.recordData.contestName;
              let hasHyphen = contentNameData.includes("-")
              let day = ""
              let nam = ""
              let contestAndName = contentNameData
              if(hasHyphen){
                const parts = contentNameData.split("-")
                day = parts[0].slice(0, -1)
                name= parts[1].substring(1)
                contestAndName = day+'<br>'+name
              }
              
              document.querySelector('#main-image').innerHTML='<div class="contestName">'+contestAndName+'</div><img id="tatt-img" src="'+types.recordData.photo+'" />';
              document.querySelector('#win').innerHTML='<div class="data">Contestant Name: '+types.recordData.name+'</div>'+'<div class="data">Artist name: '+types.recordData.artistName+'</div>'+'<div class="data">Artist Location: '+types.recordData.artistLocation+'</div>';
            }
        });
      })
      .catch(function (error) {
        console.log(error);
      });
  
      var cIndex = 0;
  
      var handler = setInterval(function() {
          //changeUp(dataArray[cIndex]);
          cIndex++;
          if (cIndex >= 0) {
              window.location = window.location.href;
          }f
      }, 35000);
  </script>
  </body>
  </html>
  